function TDCameraHelper(a,b,c,d){function e(a,b,c){var d=new THREE.Matrix4;d.makeRotationAxis(b.normalize(),c),a.multiply(d)}var f=a,g=0,h=0,i=c,j=d,k=b,l=new THREE.Matrix4;f.matrixAutoUpdate=!1,this.rotationViewMatrix=function(a,b){h-=Math.PI/180*a,g-=Math.PI/180*b,(g>=2*Math.PI||g<=2*-Math.PI)&&(g-=g/Math.abs(g)*Math.PI*2),(h>=2*Math.PI||h<=2*-Math.PI)&&(h-=h/Math.abs(h)*Math.PI*2),l=new THREE.Matrix4,e(l,new THREE.Vector3(0,1,0),h),e(l,new THREE.Vector3(1,0,0),g);var c=i.clone();c.applyMatrix4(l),c.add(k);var d=j.clone();d.applyMatrix4(l);var m=new THREE.Matrix4;m.lookAt(k,c,d),m.setPosition(k),f.matrixWorld.copy(m)},this.moveViewMatrix=function(a,b,c){if(0!=a||0!=b||0!=c){var d=new THREE.Vector3(-a,b,c);d.applyMatrix4(l),k.add(d),this.rotationViewMatrix(0,0)}},this.rotationViewMatrix(0,0)}